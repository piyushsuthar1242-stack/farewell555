<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Farewell Party 2026</title>

<style>
body{
margin:0;
font-family:Arial;
background:linear-gradient(135deg,#1e3c72,#2a5298);
color:white;
text-align:center;
}

/* Form Box */
.container{
max-width:400px;
margin:40px auto;
background:black;
padding:20px;
border-radius:15px;
box-shadow:0 0 20px rgba(0,0,0,0.5);
}

input,select{
width:100%;
padding:12px;
margin:8px 0;
border-radius:8px;
border:none;
font-size:16px;
box-sizing:border-box;
}

button{
width:100%;
padding:12px;
background:orange;
border:none;
border-radius:8px;
font-size:18px;
font-weight:bold;
cursor:pointer;
}

/* Success Animation */
#successScreen{
display:none;
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:black;
justify-content:center;
align-items:center;
flex-direction:column;
padding:20px;
box-sizing:border-box;
}

#successScreen h2{
animation:fade 1s infinite alternate;
}

@keyframes fade{
from{opacity:0.3;}
to{opacity:1;}
}

@media(max-width:480px){
.container{
margin:20px;
}
}
</style>
</head>

<body>

<h1>ðŸŽ‰ Farewell Party 2026 ðŸŽ‰</h1>

<div class="container" id="formBox">
<form id="regForm">

<input type="text" id="name" placeholder="Name" required>
<input type="text" id="roll" placeholder="Roll Number" required>

<select id="class" required>
<option value="">Select Class</option>
<option>FYBCA</option>
<option>SYBCA</option>
<option>TYBCA</option>
<option>FYBBA</option>
<option>SYBBA</option>
<option>TYBBA</option>
<option>FYBCOM</option>
<option>SYBCOM</option>
<option>TYBCOM</option>
</select>

<input type="email" id="email" placeholder="Gmail" required>
<input type="text" id="phone" placeholder="WhatsApp Number" required>

<select id="gender" required>
<option>Male</option>
<option>Female</option>
</select>

<input type="text" value="2026" readonly>

<button type="submit">Register Now</button>
</form>
</div>

<!-- Success Screen -->
<div id="successScreen">
<h2>ðŸŽ‰ Registration Completed ðŸŽ‰</h2>
<p>Thank You For Registration</p>
<p>We invite you to be part of the Farewell Party 2026 and celebrate the journey together.</p>
<p>Farewell Team</p>
</div>

<audio id="successSound">
<source src="https://www.soundjay.com/buttons/sounds/button-3.mp3">
</audio>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

<script>
const firebaseConfig = {
apiKey: "AIzaSyBIdKRuJo_oSR-PV4K4svr9YojA7g-Vgj4",
authDomain: "party-4f9f7.firebaseapp.com",
projectId: "party-4f9f7"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

document.getElementById("regForm").addEventListener("submit", async function(e){
e.preventDefault();

let name=document.getElementById("name").value;
let roll=document.getElementById("roll").value;
let className=document.getElementById("class").value;
let email=document.getElementById("email").value;
let phone=document.getElementById("phone").value;
let gender=document.getElementById("gender").value;

// Duplicate check
let snapshot = await db.collection("students")
.where("email","==",email).get();

let snapshot2 = await db.collection("students")
.where("phone","==",phone).get();

if(!snapshot.empty || !snapshot2.empty){
alert("Email or Number already registered");
return;
}

// Save Data
await db.collection("students").add({
name,roll,className,email,phone,gender,time:new Date()
});

// Show Animation
document.getElementById("formBox").style.display="none";
let success=document.getElementById("successScreen");
success.style.display="flex";

document.getElementById("successSound").play();

// Hide after 8 sec
setTimeout(()=>{
success.style.display="none";
document.getElementById("formBox").style.display="block";
document.getElementById("regForm").reset();
},8000);

});
</script>

</body>
</html>
